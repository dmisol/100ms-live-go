package defs

type Ws struct {
	Method string      `json:"method,omitempty"` // ping, on-role-change, on-policy-change, analytics
	Id     string      `json:"id"`
	Ver    string      `json:"jsonrpc"`
	Result interface{} `json:"result,omitempty"`
	Params interface{} `json:"params,omitempty"`
}

type ParamsPing struct {
	Timestamp int `json:"timestamp"`
}

type ParamsJoin struct {
	Name              string `json:"name"`
	DisableVidAutoSub bool   `json:"disableVidAutoSub"`
	Offer             `json:"offer"`
}

type Offer struct {
	Type string `json:"type"`
	Sdp  string `json:"sdp"`
}

type ParamsTrickle struct {
	Target        int    `json:"target"`
	Candidate     string `json:"candidate"`
	SdpMid        string `json:"sdpMid"`
	SdpMLineIndex int    `json:"sdpMLineIndex"`
}

type ParamsOffer struct {
	Desc   Offer            `json:"desc"`
	Tracks map[string]Track `json:"tracks"`
}

type Track struct {
	Type        string `json:"type"`
	Source      string `json:"source"`
	Description string `json:"description"`
	Mute        bool   `json:"mute"`
	TrId        string `json:"track_id"`
	StmId       string `json:"stream_id"`
}

/*
{
	"method":"offer",
	"params":{
		"desc":{
			"type":"offer",
			"sdp":"v=0\r\no=- 3342923816255210587 3 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 43fdad43-dad9-41a0-8ccf-d88e472d0e32\r\nm=application 65344 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 95.29.167.226\r\na=candidate:3208519044 1 udp 2122260223 192.168.2.138 55272 typ host generation 0 network-id 1 network-cost 10\r\na=candidate:4055753076 1 tcp 1518280447 192.168.2.138 9 typ host tcptype active generation 0 network-id 1 network-cost 10\r\na=candidate:1047927600 1 udp 1686052607 95.29.167.226 65344 typ srflx raddr 192.168.2.138 rport 55272 generation 0 network-id 1 network-cost 10\r\na=ice-ufrag:VEEh\r\na=ice-pwd:rTTnsH3ym/p8G0boL9Lh7IEH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FF:8F:3F:76:15:70:A4:20:CB:BD:5A:B9:23:8B:E1:E7:A5:53:C0:3C:E9:45:25:68:8B:D0:E8:BD:3F:3C:2E:DA\r\na=setup:actpass\r\na=mid:0\r\na=sctp-port:5000\r\na=max-message-size:262144\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 102 123 127 122 125 107 108 109 124 121 39 40 45 46 98 99 100 101 120 119 114\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VEEh\r\na=ice-pwd:rTTnsH3ym/p8G0boL9Lh7IEH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FF:8F:3F:76:15:70:A4:20:CB:BD:5A:B9:23:8B:E1:E7:A5:53:C0:3C:E9:45:25:68:8B:D0:E8:BD:3F:3C:2E:DA\r\na=setup:actpass\r\na=mid:1\r\na=extmap:1 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 urn:3gpp:video-orientation\r\na=extmap:4 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:9 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendonly\r\na=msid:43fdad43-dad9-41a0-8ccf-d88e472d0e32 784ea745-f964-4bfc-98fa-975a96321074\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:102 H264/90000\r\na=rtcp-fb:102 goog-remb\r\na=rtcp-fb:102 transport-cc\r\na=rtcp-fb:102 ccm fir\r\na=rtcp-fb:102 nack\r\na=rtcp-fb:102 nack pli\r\na=fmtp:102 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:123 rtx/90000\r\na=fmtp:123 apt=102\r\na=rtpmap:127 H264/90000\r\na=rtcp-fb:127 goog-remb\r\na=rtcp-fb:127 transport-cc\r\na=rtcp-fb:127 ccm fir\r\na=rtcp-fb:127 nack\r\na=rtcp-fb:127 nack pli\r\na=fmtp:127 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:122 rtx/90000\r\na=fmtp:122 apt=127\r\na=rtpmap:125 H264/90000\r\na=rtcp-fb:125 goog-remb\r\na=rtcp-fb:125 transport-cc\r\na=rtcp-fb:125 ccm fir\r\na=rtcp-fb:125 nack\r\na=rtcp-fb:125 nack pli\r\na=fmtp:125 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:107 rtx/90000\r\na=fmtp:107 apt=125\r\na=rtpmap:108 H264/90000\r\na=rtcp-fb:108 goog-remb\r\na=rtcp-fb:108 transport-cc\r\na=rtcp-fb:108 ccm fir\r\na=rtcp-fb:108 nack\r\na=rtcp-fb:108 nack pli\r\na=fmtp:108 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:109 rtx/90000\r\na=fmtp:109 apt=108\r\na=rtpmap:124 H264/90000\r\na=rtcp-fb:124 goog-remb\r\na=rtcp-fb:124 transport-cc\r\na=rtcp-fb:124 ccm fir\r\na=rtcp-fb:124 nack\r\na=rtcp-fb:124 nack pli\r\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:121 rtx/90000\r\na=fmtp:121 apt=124\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:120 red/90000\r\na=rtpmap:119 rtx/90000\r\na=fmtp:119 apt=120\r\na=rtpmap:114 ulpfec/90000\r\na=ssrc-group:FID 2845975734 3276993788\r\na=ssrc:2845975734 cname:evXHVhyuZ8I6Olm3\r\na=ssrc:2845975734 msid:43fdad43-dad9-41a0-8ccf-d88e472d0e32 784ea745-f964-4bfc-98fa-975a96321074\r\na=ssrc:3276993788 cname:evXHVhyuZ8I6Olm3\r\na=ssrc:3276993788 msid:43fdad43-dad9-41a0-8ccf-d88e472d0e32 784ea745-f964-4bfc-98fa-975a96321074\r\n"
			},
		"tracks":{
			"784ea745-f964-4bfc-98fa-975a96321074":{
				"type":"video",
				"source":"regular",
				"description":"",
				"mute":false,
				"track_id":"784ea745-f964-4bfc-98fa-975a96321074",
				"stream_id":"43fdad43-dad9-41a0-8ccf-d88e472d0e32"
				}
			}
		},
	"id":"28685641-ba8e-4b91-a065-df6c3f735994",
	"jsonrpc":"2.0"
}
*/

// up {"method":"ping","params":{"timestamp":1663600717848},"id":"7f34954d-698b-4715-9ff6-c3e8810a267b","jsonrpc":"2.0"}
// down {"id":"7f34954d-698b-4715-9ff6-c3e8810a267b","result":{"timestamp":1663600717940},"jsonrpc":"2.0"}
// down {"method":"on-role-change","params":{"role":{"name":"stage","publishParams":{"allowed":["audio","video","screen"],"audio":{"bitRate":32,"codec":"opus"},"video":{"bitRate":400,"codec":"vp8","frameRate":30,"width":640,"height":480},"screen":{"codec":"vp8","frameRate":10,"width":1920,"height":1080},"videoSimulcastLayers":{},"screenSimulcastLayers":{}},"subscribeParams":{"subscribeToRoles":["stage","invitee","backstage"],"maxSubsBitRate":5200,"subscribeDegradation":{"packetLossThreshold":25,"degradeGracePeriodSeconds":1,"recoverGracePeriodSeconds":4}},"permissions":{"endRoom":true,"changeRole":true,"rtmpStreaming":false,"hlsStreaming":false,"browserRecording":false,"sendRoomState":false},"priority":1,"maxPeerCount":0}},"jsonrpc":"2.0"}
// down {"method":"on-policy-change","params":{"name":"stage","known_roles":{"backstage":{"name":"backstage","publishParams":{"allowed":["audio","video","screen"],"audio":{"bitRate":32,"codec":"opus"},"video":{"bitRate":400,"codec":"vp8","frameRate":30,"width":640,"height":480},"screen":{"codec":"vp8","frameRate":10,"width":1920,"height":1080},"videoSimulcastLayers":{},"screenSimulcastLayers":{}},"subscribeParams":{"subscribeToRoles":["stage","backstage","invitee","viewer"],"maxSubsBitRate":5200,"subscribeDegradation":{"packetLossThreshold":25,"degradeGracePeriodSeconds":1,"recoverGracePeriodSeconds":4}},"permissions":{"endRoom":true,"removeOthers":true,"mute":true,"unmute":true,"changeRole":true,"rtmpStreaming":false,"hlsStreaming":false,"browserRecording":false,"sendRoomState":false},"priority":1,"maxPeerCount":0},"invitee":{"name":"invitee","publishParams":{"allowed":["audio","video","screen"],"audio":{"bitRate":32,"codec":"opus"},"video":{"bitRate":400,"codec":"vp8","frameRate":30,"width":640,"height":480},"screen":{"codec":"vp8","frameRate":10,"width":1920,"height":1080},"videoSimulcastLayers":{},"screenSimulcastLayers":{}},"subscribeParams":{"subscribeToRoles":["stage","invitee","backstage"],"maxSubsBitRate":5200,"subscribeDegradation":{"packetLossThreshold":25,"degradeGracePeriodSeconds":1,"recoverGracePeriodSeconds":4}},"permissions":{"rtmpStreaming":false,"hlsStreaming":false,"browserRecording":false,"sendRoomState":false},"priority":1,"maxPeerCount":0},"stage":{"name":"stage","publishParams":{"allowed":["audio","video","screen"],"audio":{"bitRate":32,"codec":"opus"},"video":{"bitRate":400,"codec":"vp8","frameRate":30,"width":640,"height":480},"screen":{"codec":"vp8","frameRate":10,"width":1920,"height":1080},"videoSimulcastLayers":{},"screenSimulcastLayers":{}},"subscribeParams":{"subscribeToRoles":["stage","invitee","backstage"],"maxSubsBitRate":5200,"subscribeDegradation":{"packetLossThreshold":25,"degradeGracePeriodSeconds":1,"recoverGracePeriodSeconds":4}},"permissions":{"endRoom":true,"changeRole":true,"rtmpStreaming":false,"hlsStreaming":false,"browserRecording":false,"sendRoomState":false},"priority":1,"maxPeerCount":0},"viewer":{"name":"viewer","publishParams":{"audio":{"bitRate":32,"codec":"opus"},"video":{"bitRate":400,"codec":"vp8","frameRate":30,"width":640,"height":480},"screen":{"codec":"vp8","frameRate":10,"width":1920,"height":1080},"videoSimulcastLayers":{},"screenSimulcastLayers":{}},"subscribeParams":{"subscribeToRoles":["stage","invitee","backstage"],"maxSubsBitRate":5200,"subscribeDegradation":{"packetLossThreshold":25,"degradeGracePeriodSeconds":1,"recoverGracePeriodSeconds":4}},"permissions":{"rtmpStreaming":false,"hlsStreaming":false,"browserRecording":false,"sendRoomState":false},"priority":1,"maxPeerCount":0}},"template_id":"63242b00fe63cb9c2b63b699"},"jsonrpc":"2.0"}
// up {"method":"analytics","params":{"name":"device.list.success","info":{"selection":{"audioInput":{"deviceId":"default","kind":"audioinput","label":"Default","groupId":"e29772a4ff0f8154f731aaedba0748a8c7d0ed05f25c63868a549a101bb2cdbb"},"videoInput":{"deviceId":"89c8931fd71735d6df5b1bcceaf92365bd9be6692055652b99bb3f2eac3ebe6b","kind":"videoinput","label":"XiaoMi USB 2.0 Webcam (04f2:b59a)","groupId":"64dcc2f2b3d51a729911c3788f5854a49e056df2f75e210ef803f17640260f32"},"audioOutput":{"deviceId":"default","kind":"audiooutput","label":"Default","groupId":"default"}},"devices":{"audioInput":[{"deviceId":"default","kind":"audioinput","label":"Default","groupId":"e29772a4ff0f8154f731aaedba0748a8c7d0ed05f25c63868a549a101bb2cdbb"},{"deviceId":"ad3fbf22168ae323b92b30c0ea1d23df643d68df87116b2c6a359f157b3a70ac","kind":"audioinput","label":"Built-in Audio Analog Stereo","groupId":"303f73675dfafec4343604b4e5b6ca66b56ec51bf7f6e8d3c5fda31325d7c3da"}],"audioOutput":[{"deviceId":"default","kind":"audiooutput","label":"Default","groupId":"default"},{"deviceId":"2c5d75f0d50e8fc6cf8787de9d824265aacfed2d184f539cb92633e768a3a669","kind":"audiooutput","label":"Built-in Audio Analog Stereo","groupId":"303f73675dfafec4343604b4e5b6ca66b56ec51bf7f6e8d3c5fda31325d7c3da"}],"videoInput":[{"deviceId":"89c8931fd71735d6df5b1bcceaf92365bd9be6692055652b99bb3f2eac3ebe6b","kind":"videoinput","label":"XiaoMi USB 2.0 Webcam (04f2:b59a)","groupId":"64dcc2f2b3d51a729911c3788f5854a49e056df2f75e210ef803f17640260f32"}]},"timestamp":1663590994355,"domain":"CUSTOM"},"timestamp":1663590994356}}

// up {"method":"join","params":{"name":"ds","disableVidAutoSub":true,"data":"","offer":{"type":"offer","sdp":"v=0\r\no=- 3342923816255210587 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:VEEh\r\na=ice-pwd:rTTnsH3ym/p8G0boL9Lh7IEH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FF:8F:3F:76:15:70:A4:20:CB:BD:5A:B9:23:8B:E1:E7:A5:53:C0:3C:E9:45:25:68:8B:D0:E8:BD:3F:3C:2E:DA\r\na=setup:actpass\r\na=mid:0\r\na=sctp-port:5000\r\na=max-message-size:262144\r\n"}},"id":"1dd1cce5-ff9d-4daf-b9d9-5259303db09c","jsonrpc":"2.0"}
// down {"method":"trickle","params":{"candidate":{"candidate":"candidate:337244590 1 udp 2130706431 169.254.123.1 6812 typ host","sdpMid":"","sdpMLineIndex":0,"usernameFragment":null},"target":0},"jsonrpc":"2.0"}
// down {"id":"1dd1cce5-ff9d-4daf-b9d9-5259303db09c","result":{"type":"answer","sdp":"v=0\r\no=- 4792595313506103342 1663595735 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=fingerprint:sha-256 11:5F:89:41:0C:FA:BE:C1:C9:C5:3E:30:10:60:E3:B8:9F:CF:20:CC:D3:51:4F:9A:26:29:ED:95:FF:C9:71:20\r\na=group:BUNDLE 0\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=setup:active\r\na=mid:0\r\na=sendrecv\r\na=sctp-port:5000\r\na=ice-ufrag:rwPTybFoLqpJtuQr\r\na=ice-pwd:LurGQFDLPimpcPxwuzzksLNkgpwZDNVC\r\n"},"jsonrpc":"2.0"}

// up {"method":"trickle","params":{"target":0,"candidate":{"candidate":"candidate:3208519044 1 udp 2122260223 192.168.2.138 55272 typ host generation 0 ufrag VEEh network-id 1 network-cost 10","sdpMid":"0","sdpMLineIndex":0}}}
// down {"method":"peer-list","params":{"room":{"room_id":"63242b01e08863a3f2f63bf3","session_id":"632874d7a92e94eed525bdb9","name":"dmisol2","started_at":1663595735962,"recording":{"sfu":{"enabled":false},"browser":{"enabled":false},"beam":{"enabled":false},"hls":{"enabled":false}},"streaming":{"enabled":false,"rtmp":{"enabled":false},"hls":{"enabled":false}}},"peers":{}},"jsonrpc":"2.0"}
// up {"method":"offer","params":{"desc":{"type":"offer","sdp":"v=0\r\no=- 3342923816255210587 3 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0 1\r\na=extmap-allow-mixed\r\na=msid-semantic: WMS 43fdad43-dad9-41a0-8ccf-d88e472d0e32\r\nm=application 65344 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 95.29.167.226\r\na=candidate:3208519044 1 udp 2122260223 192.168.2.138 55272 typ host generation 0 network-id 1 network-cost 10\r\na=candidate:4055753076 1 tcp 1518280447 192.168.2.138 9 typ host tcptype active generation 0 network-id 1 network-cost 10\r\na=candidate:1047927600 1 udp 1686052607 95.29.167.226 65344 typ srflx raddr 192.168.2.138 rport 55272 generation 0 network-id 1 network-cost 10\r\na=ice-ufrag:VEEh\r\na=ice-pwd:rTTnsH3ym/p8G0boL9Lh7IEH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FF:8F:3F:76:15:70:A4:20:CB:BD:5A:B9:23:8B:E1:E7:A5:53:C0:3C:E9:45:25:68:8B:D0:E8:BD:3F:3C:2E:DA\r\na=setup:actpass\r\na=mid:0\r\na=sctp-port:5000\r\na=max-message-size:262144\r\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 102 123 127 122 125 107 108 109 124 121 39 40 45 46 98 99 100 101 120 119 114\r\nc=IN IP4 0.0.0.0\r\na=rtcp:9 IN IP4 0.0.0.0\r\na=ice-ufrag:VEEh\r\na=ice-pwd:rTTnsH3ym/p8G0boL9Lh7IEH\r\na=ice-options:trickle\r\na=fingerprint:sha-256 FF:8F:3F:76:15:70:A4:20:CB:BD:5A:B9:23:8B:E1:E7:A5:53:C0:3C:E9:45:25:68:8B:D0:E8:BD:3F:3C:2E:DA\r\na=setup:actpass\r\na=mid:1\r\na=extmap:1 urn:ietf:params:rtp-hdrext:toffset\r\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\na=extmap:3 urn:3gpp:video-orientation\r\na=extmap:4 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\na=extmap:9 urn:ietf:params:rtp-hdrext:sdes:mid\r\na=extmap:10 urn:ietf:params:rtp-hdrext:sdes:rtp-stream-id\r\na=extmap:11 urn:ietf:params:rtp-hdrext:sdes:repaired-rtp-stream-id\r\na=sendonly\r\na=msid:43fdad43-dad9-41a0-8ccf-d88e472d0e32 784ea745-f964-4bfc-98fa-975a96321074\r\na=rtcp-mux\r\na=rtcp-rsize\r\na=rtpmap:96 VP8/90000\r\na=rtcp-fb:96 goog-remb\r\na=rtcp-fb:96 transport-cc\r\na=rtcp-fb:96 ccm fir\r\na=rtcp-fb:96 nack\r\na=rtcp-fb:96 nack pli\r\na=rtpmap:97 rtx/90000\r\na=fmtp:97 apt=96\r\na=rtpmap:102 H264/90000\r\na=rtcp-fb:102 goog-remb\r\na=rtcp-fb:102 transport-cc\r\na=rtcp-fb:102 ccm fir\r\na=rtcp-fb:102 nack\r\na=rtcp-fb:102 nack pli\r\na=fmtp:102 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42001f\r\na=rtpmap:123 rtx/90000\r\na=fmtp:123 apt=102\r\na=rtpmap:127 H264/90000\r\na=rtcp-fb:127 goog-remb\r\na=rtcp-fb:127 transport-cc\r\na=rtcp-fb:127 ccm fir\r\na=rtcp-fb:127 nack\r\na=rtcp-fb:127 nack pli\r\na=fmtp:127 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42001f\r\na=rtpmap:122 rtx/90000\r\na=fmtp:122 apt=127\r\na=rtpmap:125 H264/90000\r\na=rtcp-fb:125 goog-remb\r\na=rtcp-fb:125 transport-cc\r\na=rtcp-fb:125 ccm fir\r\na=rtcp-fb:125 nack\r\na=rtcp-fb:125 nack pli\r\na=fmtp:125 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\na=rtpmap:107 rtx/90000\r\na=fmtp:107 apt=125\r\na=rtpmap:108 H264/90000\r\na=rtcp-fb:108 goog-remb\r\na=rtcp-fb:108 transport-cc\r\na=rtcp-fb:108 ccm fir\r\na=rtcp-fb:108 nack\r\na=rtcp-fb:108 nack pli\r\na=fmtp:108 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=42e01f\r\na=rtpmap:109 rtx/90000\r\na=fmtp:109 apt=108\r\na=rtpmap:124 H264/90000\r\na=rtcp-fb:124 goog-remb\r\na=rtcp-fb:124 transport-cc\r\na=rtcp-fb:124 ccm fir\r\na=rtcp-fb:124 nack\r\na=rtcp-fb:124 nack pli\r\na=fmtp:124 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=4d001f\r\na=rtpmap:121 rtx/90000\r\na=fmtp:121 apt=124\r\na=rtpmap:39 H264/90000\r\na=rtcp-fb:39 goog-remb\r\na=rtcp-fb:39 transport-cc\r\na=rtcp-fb:39 ccm fir\r\na=rtcp-fb:39 nack\r\na=rtcp-fb:39 nack pli\r\na=fmtp:39 level-asymmetry-allowed=1;packetization-mode=0;profile-level-id=4d001f\r\na=rtpmap:40 rtx/90000\r\na=fmtp:40 apt=39\r\na=rtpmap:45 AV1/90000\r\na=rtcp-fb:45 goog-remb\r\na=rtcp-fb:45 transport-cc\r\na=rtcp-fb:45 ccm fir\r\na=rtcp-fb:45 nack\r\na=rtcp-fb:45 nack pli\r\na=rtpmap:46 rtx/90000\r\na=fmtp:46 apt=45\r\na=rtpmap:98 VP9/90000\r\na=rtcp-fb:98 goog-remb\r\na=rtcp-fb:98 transport-cc\r\na=rtcp-fb:98 ccm fir\r\na=rtcp-fb:98 nack\r\na=rtcp-fb:98 nack pli\r\na=fmtp:98 profile-id=0\r\na=rtpmap:99 rtx/90000\r\na=fmtp:99 apt=98\r\na=rtpmap:100 VP9/90000\r\na=rtcp-fb:100 goog-remb\r\na=rtcp-fb:100 transport-cc\r\na=rtcp-fb:100 ccm fir\r\na=rtcp-fb:100 nack\r\na=rtcp-fb:100 nack pli\r\na=fmtp:100 profile-id=2\r\na=rtpmap:101 rtx/90000\r\na=fmtp:101 apt=100\r\na=rtpmap:120 red/90000\r\na=rtpmap:119 rtx/90000\r\na=fmtp:119 apt=120\r\na=rtpmap:114 ulpfec/90000\r\na=ssrc-group:FID 2845975734 3276993788\r\na=ssrc:2845975734 cname:evXHVhyuZ8I6Olm3\r\na=ssrc:2845975734 msid:43fdad43-dad9-41a0-8ccf-d88e472d0e32 784ea745-f964-4bfc-98fa-975a96321074\r\na=ssrc:3276993788 cname:evXHVhyuZ8I6Olm3\r\na=ssrc:3276993788 msid:43fdad43-dad9-41a0-8ccf-d88e472d0e32 784ea745-f964-4bfc-98fa-975a96321074\r\n"},"tracks":{"784ea745-f964-4bfc-98fa-975a96321074":{"type":"video","source":"regular","description":"","mute":false,"track_id":"784ea745-f964-4bfc-98fa-975a96321074","stream_id":"43fdad43-dad9-41a0-8ccf-d88e472d0e32"}}},"id":"28685641-ba8e-4b91-a065-df6c3f735994","jsonrpc":"2.0"}
// down {"method":"offer","params":{"type":"offer","sdp":"v=0\r\no=- 4081880859261006611 1663595736 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\na=fingerprint:sha-256 E3:ED:88:A0:E4:D6:2C:65:D8:12:77:93:2D:25:06:82:55:62:69:5A:74:A7:05:29:13:68:FD:12:A8:FC:52:AB\r\na=group:BUNDLE 0\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=setup:actpass\r\na=mid:0\r\na=sendrecv\r\na=sctp-port:5000\r\na=ice-ufrag:hKWcNliCiennuABQ\r\na=ice-pwd:ghwPInbWLCqfzgxmGyjvBLHzIkTuqerE\r\n"},"jsonrpc":"2.0"}
// up {"method":"trickle","params":{"target":0,"candidate":{"candidate":"candidate:2393019192 1 udp 41885695 34.100.194.204 56093 typ relay raddr 95.29.167.226 rport 65344 generation 0 ufrag VEEh network-id 1 network-cost 10","sdpMid":"0","sdpMLineIndex":0}}}
// up {"method":"answer","params":{"desc":{"type":"answer","sdp":"v=0\r\no=- 686610999967085266 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0\r\na=msid-semantic: WMS\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:jQPG\r\na=ice-pwd:28QX5HoURwFnhXRXkjkkmJdm\r\na=ice-options:trickle\r\na=fingerprint:sha-256 91:2C:8C:15:D4:83:01:03:CA:06:9B:67:BB:79:16:E0:DA:0A:F7:7A:A5:32:C1:E9:28:80:DC:80:98:2A:1F:A1\r\na=setup:active\r\na=mid:0\r\na=sctp-port:5000\r\n"}}}
// up {"method":"answer","params":{"desc":{"type":"answer","sdp":"v=0\r\no=- 686610999967085266 3 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\na=group:BUNDLE 0\r\na=msid-semantic: WMS\r\nm=application 9 UDP/DTLS/SCTP webrtc-datachannel\r\nc=IN IP4 0.0.0.0\r\na=ice-ufrag:c8mz\r\na=ice-pwd:zrtsha5BlJcy+5mfb/79C7Pn\r\na=ice-options:trickle\r\na=fingerprint:sha-256 91:2C:8C:15:D4:83:01:03:CA:06:9B:67:BB:79:16:E0:DA:0A:F7:7A:A5:32:C1:E9:28:80:DC:80:98:2A:1F:A1\r\na=setup:active\r\na=mid:0\r\na=sctp-port:5000\r\n"}}}

// {"method":"leave","params":{"version":"1.0"}}

// ping each second
